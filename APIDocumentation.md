<h1>API DOCUMENTATION</h1>

<h3> Login API  </h3>
    <p><br>
        This endpoint is used to login into the user's account using their credentials.
    </p>
    
<h4>Target URL </h4>
   
     http://localhost:8000/login  

   
<h4>Request Method   </h4>
    
    Post
  

<h4> Request Body </h4>

```json
{
    "email" : "gatormart@gmail.com",
    "password" : "gator@A1",
}
```
<h4> Request Fields </h4>

| Field Name  | Description |  Datatype |
| ------------- | ------------- | ------------- | 
| email | The mail Id of the user  | string |
| password | The password of the user | string |
  
<h4> Response Examples </h4>
<h4> Case #1 - Logged-in Successfully </h4>

> ```json
> {
>     {
> "message": "login success",
> "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJFeHBpcmVzQXQiOjE2NTA2MDE5OTEsIklzc3VlZEF0IjoxNjUwNTE1NTkxLCJJc3N1ZXIiOiJHYXRvck1hcnQiLCJTdWJqZWN0IjoiVG9rZW4gZm9yIEdhdG9yTWFydCBmcm9udGVuZCIsImF1dGhvcml6ZWQiOnRydWUsInVzZXJlbWFpbCI6ImV4YW1wbGUxMUBnbWFpbC5jb20iLCJ1c2VyaWQiOjYsInVzZXJuYW1lIjoidXNlcjExIn0.PQWWsg-JSvL4pdiZl206qyCsILPjgvhHXSr9Ks2qwCA",
> "user": {
> "ID": 6,
> "CreatedAt": "2022-04-16T18:13:19.536-04:00",
> "UpdatedAt": "2022-04-16T18:13:19.536-04:00",
> "DeletedAt": null,
> "userId": 0,
> "firstname": "user11",
> "lastname": "lastuser",
> "email": "example11@gmail.com",
> "profession": "student",
> "DOB": "2000-01-01T19:00:00-05:00"
}
}
> }
> ```     
<h4> Case #2 - Logged-in failed </h4>

> ```json
> {
>     "message" : "login failed"
> }
> ``` 
<h4> Response Codes: 200, 400   </h4>

<h4> Response Fields </h4>

| Field Name  | Description |  Datatype |
| ------------- | ------------- | -------------
| message | indicates whether the user login is success or failed | String 
<br/>
<br/>
<hr/>

<h3> Register API  </h3>
    <p><br>
        This endpoint is used to signup to the application using maiild, password, proffesion and Date of Birth to focus on the target audience for selling and buying products.
    </p>
    
<h4>Target URL </h4>
   
     http://localhost:8000/register

   
<h4>Request Method   </h4>
    
    Post
  

<h4> Request Body </h4>

```json
{
   "userId": 0,
   "firstname": "user11",
   "lastname": "lastuser",
   "email": "example11@gmail.com", 
   "profession": "student",
   "DOB": "2000-01-01T19:00:00-05:00"
}
```
<h4> Request Fields </h4>

| Field Name  | Description |  Datatype |
| ------------- | ------------- | ------------- | 
| email | The mail Id of the user  | string |
| password | The password of the user | string |
| firstname | The first name of the user | string |
| lastname | The last name of the user | string |
| profession | The profession of the user | string |
| DateofBirth | The date of birth of the user | date |
  
<h4> Response Examples </h4>
<h4> Case #1 - signed-up Failed </h4>

> ```json
> {
>     "message" : "please check username and password criteria"
> }
> ```     
<h4> Case #2 - signed-up Sucessfull </h4>

> ```json
> {
> "user": "gatormart",
> "ID": 6,
> "CreatedAt": "2022-04-16T18:13:19.536-04:00",
> "UpdatedAt": "2022-04-16T18:13:19.536-04:00",
> "DeletedAt": null,
> "userId": 0,
> "firstname": "user11",
> "lastname": "lastuser",
> "email": "example11@gmail.com",
> "profession": "student",
> "DOB": "2000-01-01T19:00:00-05:00"
}
> }
> ``` 

<h4> Response Codes: 200, 400   </h4>

<h4> Response Fields </h4>

| Field Name  | Description |  Datatype |
| ------------- | ------------- | -------------
| Message | indicates whether the user signup is success or not | string 
<br/>
<br/>
<hr/>

<h3> Save Product API </h3>
    <p><br>
        If the logged in user wants to sell a product he can use the sell option and fill out a form containing details of the product. This api will save the new product specified by the user. The id of the product is automatically gets generated by the database.
    </p>
    
<h4>Target URL </h4>
   
      http://localhost:8000/product

   
<h4>Request Method   </h4>
    
    Post
  

<h4> Request Body </h4>

```json
{
    "email" : "gatormart@gmail.com",
    "city" : "gainesville",
    "state" : "/image1.png",
    "loaction_lat" : "maps",
    "location_lang" : "maps",
    "target" : "students",
    "category" : "Iwatch"
    "posted_date" : "2022-04-20",
    "posted_by" : "gatormart1",
    "condition" : "good",
    "age" : "6" 
    "images" : "/image1.png" 
}
```
<h4> Request Fields </h4>

| Field Name  | Description |  Datatype |
| ------------- | ------------- | ------------- | 
| email | The mail Id of the user  | string |
| city | City of the user  | string |
| state | State of the user  | string |
| loaction_lat | Lalitude location  | string |
| location_lang | Longitutude location | string |
| description | The description of the product  | string |
| target | Main target  | string |
| category | Ctegory of the product  | string |
| posted_date | Posted date  | string |
| posted_by | Posted by  | string |
| condition | The Condition of the product  | string |
| age | Age of the product | string |
| images | Images  | string |
  
  <h4> Response Codes: 200, 400, 401  </h4>
  
<h4> Response Examples </h4>
<h4> Case #1 - posted Successfully </h4>

> ```json
> {  
    "email" : "gatormart@gmail.com",
    "city" : "gainesville",
    "state" : "/image1.png",
    "loaction_lat" : "maps",
    "location_lang" : "maps",
    "target" : "students",
    "category" : "Iwatch"
    "posted_date" : "2022-04-20",
    "posted_by" : "gatormart1",
    "condition" : "good",
    "age" : "6" 
    "images" : "/image1.png" 
> }
> ```     
<h4> Case #2 - post failed </h4>

> ```json
> {
>    "approved" : false
> }
> ``` 

<h4> Response Fields </h4>

| Field Name  | Description |  Datatype |
| ------------- | ------------- | -------------
| approved | This indicates whether the product post is successful or not  | boolean |
<br/>
<br/>
<hr/>

<h3>Get Products By User </h3>
    <p><br>
        Developed Get Products ByUser api, which will fetch the available products posted by the logged in user. It also supports the functionality of getting a specific user products .
    </p>
    
<h4>Target URL </h4>
   
      http://localhost:8000/productsByUser

   
<h4>Request Method   </h4>
    
    Get
 
<h4> Request Fields </h4>

| Field Name  | Description |  Datatype |
| ------------- | ------------- | ------------- | 
| userid | The user Id of the user  | string |
  
<h4> Response Examples </h4>
<h4> Case #1 - products fetched Successfully </h4>
```json
{
    "email" : "gatormart@gmail.com",
    "city" : "gainesville",
    "state" : "/image1.png",
    "loaction_lat" : "maps",
    "location_lang" : "maps",
    "target" : "students",
    "category" : "Iwatch"
    "posted_date" : "2022-04-20",
    "posted_by" : "gatormart1",
    "condition" : "good",
    "age" : "6" 
    "images" : "/image1.png" 
}
```
<h4> Case #2 - fetch failed </h4>

> ```json
> {
>   "message": "Product fetch failed"
> }
> ``` 

<h4> Response Fields </h4>

| Field Name  | Description |  Datatype |
| ------------- | ------------- | -------------
| products | This is list of products available for logged in users to buy | product |
<br/>
<br/>
<hr/>


<h3>Get Products</h3>
    <p><br>
        Developed Get Products ByUser api, which will fetch all the available products irrespective of the  user.
    </p>
    
<h4>Target URL </h4>
   
      http://localhost:8000/products


  <h4> Response Codes: 200, 400, 401  </h4>
  
<h4> Response Examples </h4>
<h4> Case #1 - products fetched Successfully </h4>

{
> ```json
> "message": "login success",
> "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJFeHBpcmVzQXQiOjE2NTA2MDE5OTEsIklzc3VlZEF0IjoxNjUwNTE1NTkxLCJJc3N1ZXIiOiJHYXRvck1hcnQiLCJTdWJqZWN0IjoiVG9rZW4gZm9yIEdhdG9yTWFydCBmcm9udGVuZCIsImF1dGhvcml6ZWQiOnRydWUsInVzZXJlbWFpbCI6ImV4YW1wbGUxMUBnbWFpbC5jb20iLCJ1c2VyaWQiOjYsInVzZXJuYW1lIjoidXNlcjExIn0.PQWWsg-JSvL4pdiZl206qyCsILPjgvhHXSr9Ks2qwCA",
> "user": {
> "ID": 6,
> "CreatedAt": "2022-04-16T18:13:19.536-04:00",
> "UpdatedAt": "2022-04-16T18:13:19.536-04:00",
> "DeletedAt": null,
> "userId": 0,
> "firstname": "user11",
> "lastname": "lastuser",
> "email": "example11@gmail.com",
> "profession": "student",
> "DOB": "2000-01-01T19:00:00-05:00"
> 
}
> ``` 

<h4> Response Fields </h4>

| Field Name  | Description |  Datatype |
| ------------- | ------------- | -------------
| products | This is list of products available | product |
<br/>
<br/>
<hr/>


<h3> Logout API  </h3>
    <p><br>
        This endpoint is used to logout.
    </p>
    
<h4>Target URL </h4>
   
     http://localhost:8000/logout

   
<h4>Request Method   </h4>
    
    Post
    
<h4> Response Examples </h4>
<h4> Case #1 - Logged out Successfully </h4>

> ```json
> {
>     "message" : "logout sucessful"
> }
> ```     

<h4> Response Codes: 200, 400, 401  </h4>
  
<h4> Response Fields </h4>

| Field Name  | Description |  Datatype |
| ------------- | ------------- | -------------
| Logout | User logout of the application| "" 
<br/>
<br/>
<hr/>



<h3>Authorize And Return User Details </h3>
    <p><br>
      Authrozies the user and returns the user details based on he JWT token.
    </p>
    
<h4>Target URL </h4>
   
      http://localhost:8000/authorize

   
<h4>Request Method   </h4>
    
    Get
  
<h4> Response Examples </h4>
<h4> Case #1 - Fetched Successfully </h4>

> ```json
> {
>   "message": "authenticated Sucessfully"
> }
> ```     
<h4> Case #2 - Fetch failed </h4>

> ```json
> {
>   "message": "User unauthenticated"
> }
> ``` 

<h4> Response Codes: 200, 400, 401  </h4>
  
<h4> Response Fields </h4>

| Field Name  | Description |  Datatype |
| ------------- | ------------- | -------------
| message | This indicates whether the user is authenticated and fetch all the user details based on the JWT token.| boolean |
<br/>
<br/>
<hr/>

<h3>Get Product</h3>
    <p><br>
        Developed Get Product api, which will fetch the  product posted  by the postid. 
    </p>
    
<h4>Target URL </h4>
   
      http://localhost:8000//product/:id

   
<h4>Request Method   </h4>
    
    Get
  

<h4> Request Body </h4>

```json
{
    "porductid" : "12345",
}
```
<h4> Request Fields </h4>

| Field Name  | Description |  Datatype |
| ------------- | ------------- | ------------- | 
| productid | The product Id of the product  | string |
 
<h4> Response Codes: 200, 400, 401  </h4>
   
<h4> Response Examples </h4>
<h4> Case #1 - product fetched Successfully </h4>

> ```json
> {
>   "product" : ["Mobile","", ...]
> }
> ```     
<h4> Case #2 - fetch failed </h4>

> ```json
> {
>   "product" :  "product id doesnt exist"
> }
> ``` 

<h4> Response Fields </h4>

| Field Name  | Description |  Datatype |
| ------------- | ------------- | -------------
| product | This fetches all the details of the specific product based on the product id | product |
<br/>
<br/>
<hr/>


<h3>Update Product</h3>
    <p><br>
        Developed Update Product api, which will update the fields or the details of the product. 
    </p>
    
<h4>Target URL </h4>
   
      http://localhost:8000/product/:id

   
<h4>Request Method   </h4>
    
    Put
  

<h4> Request Body </h4>

```json
{ 
    "productid" : "123456",
    "email" : "gatormart@gmail.com",
    "city" : "gainesville",
    "state" : "/image1.png",
    "loaction_lat" : "maps",
    "location_lang" : "maps",
    "target" : "students",
    "category" : "Iwatch"
    "posted_date" : "2022-04-20",
    "posted_by" : "gatormart1",
    "condition" : "good",
    "age" : "6" 
    "images" : "/image1.png" 
}
```
<h4> Request Fields </h4>

| Field Name  | Description |  Datatype |
| ------------- | ------------- | ------------- | 
| productid | The product Id of the user  | string |
| email | The mail Id of the user  | string |
| city | City of the user  | string |
| state | State of the user  | string |
| loaction_lat | Lalitude location  | string |
| location_lang | Longitutude location | string |
| description | The description of the product  | string |
| target | Main target  | string |
| category | Ctegory of the product  | string |
| posted_date | Posted date  | string |
| posted_by | Posted by  | string |
| condition | The Condition of the product  | string |
| age | Age of the product | string |
| images | Images  | string |
  
<h4> Response Examples </h4>
<h4> Case #1 - Updated Successfully </h4>

> ```json
> {
>   "update" : true
> }
> ```     
<h4> Case #2 - Updated failed </h4>

> ```json
> {
>    "update" : false
> }
> ``` 

<h4> Response Codes: 200, 400, 401  </h4>
  
<h4> Response Fields </h4>

| Field Name  | Description |  Datatype |
| ------------- | ------------- | -------------
| update | This update the details of the product  | boolean |
<br/>
<br/>
<hr/>


<h3>Delete Product</h3>
    <p><br>
        Developed Delete Product api, which allows to delete the details of the product. 
    </p>
    
<h4>Target URL </h4>
   
      http://localhost:8000//product/:id

   
<h4>Request Method   </h4>
    
    Delete
  

<h4> Request Body </h4>

```json
{
    "porductid" : "12345",
}
```
<h4> Request Fields </h4>

| Field Name  | Description |  Datatype |
| ------------- | ------------- | ------------- | 
| productid | The product Id of the product  | string |
  
<h4> Response Examples </h4>
<h4> Case #1 - Product ad is deleted </h4>

> ```json
> {
>   "product" : ["Mobile","", ...]
> }
> ```     
<h4> Case #2 - product id doesnt exist</h4>

> ```json
> {
>   "product" :  "product id doesnt exist"
> }
> ``` 

<h4> Response Codes: 200, 400, 401  </h4>
  
<h4> Response Fields </h4>

| Field Name  | Description |  Datatype |
| ------------- | ------------- | -------------
| product | This deletes all the details of the specific product based on the product id | String |
<br/>
<br/>
<hr/>


<h3>Upload Image</h3>
    <p><br>
        Developed Delete Product api, which takes file as an input and the images are saved in Amazon S3 bucket and the URL is provided to the product.
    </p>
    
<h4>Target URL </h4>
   
      http://localhost:8000/product/upload

   
<h4>Request Method   </h4>
    
    Post
  

<h4> Request Body </h4>

```json
{
    "Image" : "uploadimage",
}
```
<h4> Request Fields </h4>

| Field Name  | Description |  Datatype |
| ------------- | ------------- | ------------- | 
| Image | The link or the path of the file to upload the the products | Link |
  
<h4> Response Examples </h4>
<h4> Case #1 - Upload Image Sucessfull. </h4>

> ```json
> {
>   "Image" : "Image url"
> }
> ```     
<h4> Case #2 - Upload Image failed</h4>

> ```json
> {
>   "Image" :  "error while uploading image to S3 bucket"
> }
> ``` 

<h4> Response Codes: 200, 400, 401  </h4>
  
<h4> Response Fields </h4>

| Field Name  | Description |  Datatype |
| ------------- | ------------- | -------------
| Image | This deletes all the details of the specific product based on the product id | String |
<br/>
<br/>
<hr/>



<h3>Filter Products</h3>
    <p><br>
        It filter the products based on the Condition, title, target, Category and the price with an options like between the range, less than, greater than. The result will be again filtered by Date and price.
    </p>
    
<h4>Target URL </h4>
   
      http://localhost:8000/filterproducts

   
<h4>Request Method   </h4>
    
    Post
  

<h4> Request Body </h4>

```json
{
  {  
    "title": "Phone",
    "condition": "LikeNew",
    "target": "Student",
    "age": {},
    "sortBy": "date",
    "price": {
    "operator": "between",
    "value1": 5,
    "value2": 50,
    "price": {}
  },
    "radius": "12",
     "category": "Mobile"
  }


}
```
<h4> Request Fields </h4>

| Field Name  | Description |  Datatype |
| ------------- | ------------- | ------------- | 
| title | title of the product| String |
| condition | TCondition of the product | String |
| target | Traget based on the product | String |
| age | Age of the product | Integer |
| sortBy | It sorts the product based on the price | String |
| price | Price of the product | Object |
| value1 | Minumum amount that requires to search for a product | Object |
| value2 | Maximum amount that requires to search for a product | Object |
| price | Price of the product | Object |

<h4> Response Examples </h4>
<h4> Case #1 - Filter products. </h4>

> ```json
> {
>   "Product1" : "","product2" :"" ,...
> }
> ```     
<

<h4> Response Codes: 200, 400, 401  </h4>

<h4> Response Fields </h4>

| Field Name  | Description |  Datatype |
| ------------- | ------------- | -------------
| Product | All the details of the products that are filtered| String |
<br/>
<br/>
<hr/>



<h3>Get categories</h3>
    <p><br>
        Lists all the categories based on the target.
    </p>
    
<h4>Target URL </h4>
   
      http://localhost:8000/categories

   
<h4>Request Method   </h4>
    
    Get
  

<h4> Response Examples </h4>
<h4> Case #1 - Categories are displayed </h4>

> ```json
> {
>   "Categories" : "Automobile", "Mobile", "ElectronicsAppliances", "Furniture", "Books", "Sports", "Pets"
> }
> ```     

<h4> Response Codes: 200, 400, 401  </h4>
  
<h4> Response Fields </h4>

| Field Name  | Description |  Datatype |
| ------------- | ------------- | -------------
| Categories | It displays all the Categories  | String |
<br/>
<br/>
<hr/>



<h3>Get Target</h3>
    <p><br>
        Lists all the products based on the target.
    </p>
    
<h4>Target URL </h4>
   
      http://localhost:8000/target

   
<h4>Request Method   </h4>
    
    Get
  

<h4> Response Examples </h4>
<h4> Case #1 - Tragets are displayed </h4>

> ```json
> {
> "Target" : "Student", "Farmer", "Businessmen", "Engineer", "Other"
> }
> ```     

<h4> Response Codes: 200, 400, 401  </h4>
  
<h4> Response Fields </h4>

| Field Name  | Description |  Datatype |
| ------------- | ------------- | -------------
| Target | Displays all the teraget| String |
<br/>
<br/>
<hr/>



<h3>Get Condition.</h3>
    <p><br>
        Lists all the products based on the Condition.
    </p>
    
<h4>Target URL </h4>
   
      http://localhost:8000//condition

   
<h4>Request Method   </h4>
    
    Get
  

<h4> Response Examples </h4>
<h4> Case #1 - conditions are displayed </h4>

> ```json
> {
> "condition" : "Used", "LikeNew", "OpenBox", "New"
> }
> ```     

<h4> Response Codes: 200, 400, 401  </h4>
  
<h4> Response Fields </h4>

| Field Name  | Description |  Datatype |
| ------------- | ------------- | -------------
| condition | Displays all the condition| String |
<br/>
<br/>
<hr/>

